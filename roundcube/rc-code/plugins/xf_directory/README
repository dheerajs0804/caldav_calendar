xf_directory Roundcube plugin 
-----------------------------------------------------------------------------

This plugin used to connect with xf directory server. Currently it is used to get
properties of xf entities like domain, user, usercos, role etc.

It uses xf webservices to connect xf server and retrieve its properties. It store retrieved
properties in roundcube SESSION. 
It also provides xf interface to get properties stored in SESSION from other roundcube plugins.

USE
------------
1. Enable the xf_directory plugin

  $ cd ../../
  $ edit config/config.inc.php

  Add 'xf_directory' to the list of active plugins:

  $config['plugins'] = array(
    (...)
    'xf_directory',
  );

2. Update plugin config file to fetch required properties

  // backend type (webservice, cache)
  $config['xf_properties_driver'] = "webservice";

  // array of xf entity to retrieve properties for. e.g. domain, user, role, usercos. 
  // Check entity class present in plugin or not, if not need to write entity class for entity
  $config['xf_directory_entities'] = array('user','domain');

  // Entity wise list of properties to retrieve from xf directory
  $config['userproperties'] = "mail,username,defaultapp,imapserver";
  $config['domainproperties'] = "domainname,xmppservername,ldapservername,incomingimapserver,outgoingsmtpserver,caldavservername";

3. Update host config file.
   Add following block in host config file, so that it will connect to hostwise directory server.
   i.e. in ../skyconnect/config/<host>.inc.config.
   Add directory server info to get properties for configured entities

  $config['xf_directory_server'] = array(
    'adminid' => 'postmaster@test.int',
    'adminpass' => 'mailjol@123',
    'host' => '192.168.0.57',
    'port' => '8080'
    );



RETRIEVE PROPERTIES FROM ANOTHER ROUNDCUBE PLUGIN
------------------------------------------------------

  //To Get xf instance
  include_once '/var/www/html/skyconnect/plugins/xf_directory/xf.php';
  $xf_instance = xf::get_instance();

  //To Get server properties from xf
  $server_properties = $xf_instance->get_xf_domain_properties(array('incomingimapserver','outgoingsmtpserver','ldapservername','caldavservername','xmppservername'));

  //Available API
  //Domain
  get_xf_domain_properties();    				//For all retrieved domain properties
  get_xf_domain_properties(array('p1','p2',...));		//For specific domain properties

  //User
  get_xf_user_properties();    					//For all retrieved user properties
  get_xf_user_properties(array('p1','p2',...));    		//For specific user properties


*For more: Refer "help" plugin.
